<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theatre Plays</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
    <nav>
        <div class="nav-content">
            <div class="site-title">Theatre Plays</div>
            <button class="burger-menu" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="nav-links">
                <a class="nav-link" id="dashboardLink" onclick="displayPlays('dashboard')">Dashboard</a>
                <a class="nav-link active" id="allPlaysLink" onclick="displayPlays('all')">All Plays</a>
                <a class="nav-link" id="upcomingPlaysLink" onclick="displayPlays('upcoming')">Upcoming Plays</a>
                <a class="nav-link" id="seenPlaysLink" onclick="displayPlays('seen')">Seen Plays</a>
                <a class="nav-link" id="hallOfFamePlaysLink" onclick="toggleHallOfFame()">Hall of Fame</a>
                <a class="nav-link" id="addPlayLink" onclick="showAddPlayForm()">Add Play</a>
                <div class="auth-buttons">
                    <button id="signInBtn" onclick="signInWithGoogle()">Sign in with Google</button>
                    <button id="signOutBtn" onclick="signOut()" style="display: none;">Sign Out</button>
                    <div id="userInfo" style="display: none;"></div>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <button class="calendar-toggle" onclick="toggleCalendarView()" style="display: none;">
            Toggle Calendar View
        </button>
        <button class="hall-toggle" onclick="toggleHallView()" style="display: none;">
            Toggle Hall of Shame
        </button>
        <div class="calendar-container"></div>
        <div class="play-grid"></div>
        <div class="add-play-form" style="display: none;">
            <h2>Add New Play</h2>
            <form id="addPlayForm">
                <div class="form-group">
                    <label for="playName">Play Name *</label>
                    <input type="text" id="playName" name="playName" required>
                </div>

                <div class="form-group">
                    <label for="playDate">Date *</label>
                    <input type="date" id="playDate" name="playDate" required>
                </div>

                <div class="form-group">
                    <label for="playTheatre">Theatre (optional)</label>
                    <input type="text" id="playTheatre" name="playTheatre">
                </div>

                <div class="form-group">
                    <label for="playRating">Rating (optional)</label>
                    <div class="rating-container">
                        <div class="star-rating">
                            <input type="radio" id="rating5" name="rating" value="5"><label for="rating5">‚òÖ</label>
                            <input type="radio" id="rating4.5" name="rating" value="4.5"><label for="rating4.5">‚òÖ</label>
                            <input type="radio" id="rating4" name="rating" value="4"><label for="rating4">‚òÖ</label>
                            <input type="radio" id="rating3.5" name="rating" value="3.5"><label for="rating3.5">‚òÖ</label>
                            <input type="radio" id="rating3" name="rating" value="3"><label for="rating3">‚òÖ</label>
                            <input type="radio" id="rating2.5" name="rating" value="2.5"><label for="rating2.5">‚òÖ</label>
                            <input type="radio" id="rating2" name="rating" value="2"><label for="rating2">‚òÖ</label>
                            <input type="radio" id="rating1.5" name="rating" value="1.5"><label for="rating1.5">‚òÖ</label>
                            <input type="radio" id="rating1" name="rating" value="1"><label for="rating1">‚òÖ</label>
                        </div>
                        <button type="button" id="standingOvation" class="standing-ovation-btn">Standing Ovation üëè</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="playImage">Image URL (optional)</label>
                    <input type="url" id="playImage" name="playImage" placeholder="https://...">
                    <div class="image-preview">Image preview will appear here</div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="submit-btn">Add Play</button>
                    <button type="button" class="cancel-btn" onclick="hideAddPlayForm()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/nav-styles.js"></script>
    <script src="/google-auth.js"></script>
    <script src="/database.js"></script>
    <script src="/calendar-view.js"></script>
    <script src="/auth.js"></script>
    <script>
        function toggleMobileMenu() {
            document.querySelector('.nav-links').classList.toggle('active');
            document.querySelector('.burger-menu').classList.toggle('active');
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            const nav = document.querySelector('nav');
            const burger = document.querySelector('.burger-menu');
            if (!nav.contains(e.target) && document.querySelector('.nav-links').classList.contains('active')) {
                document.querySelector('.nav-links').classList.remove('active');
                burger.classList.remove('active');
            }
        });

        // Close mobile menu when clicking a nav link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                document.querySelector('.nav-links').classList.remove('active');
                document.querySelector('.burger-menu').classList.remove('active');
            });
        });
    </script>
</body>
</html> 